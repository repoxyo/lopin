

name: Runme

on:
  push:
    branches: ["main"]

jobs:
  build:
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: ["1025 1030 1", "1025 1030 2", "1025 1030 3", "1025 1030 4", "1030 1035 5", "1030 1035 6", "1030 1035 7", "1030 1035 8", "1035 1040 9", "1035 1040 10", "1035 1040 11", "1035 1040 12", "1040 1045 13", "1040 1045 14", "1040 1045 15", "1040 1045 16", "1045 1050 17", "1045 1050 18", "1045 1050 19", "1045 1050 20"]
    steps:
      - uses: actions/checkout@v3
      - name: Install Dependencies
        uses: actions/setup-node@v4
        env:
          PUPPETEER_SKIP_CHROMIUM_DOWNLOAD: "true"
        with:
          node-version: 18
      - name: Test Code
        uses: mujo-code/puppeteer-headful@16.6.0
        env:
          RANGE_INDEX: ${{ matrix.rangeIndex }}
          MY_DATA: ${{secrets.WK_U}} ${{secrets.WK_I}} ${{secrets.WK_S}} ${{secrets.BK_U}}
        with:
          args: |
            npm run start
      - name: done
        run: exit
